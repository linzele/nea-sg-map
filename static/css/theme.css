/* Brandable theme inspired by the referenced site: deep navy gradient + cyan/indigo accents */
:root {
  --brand-bg-start: #0b132b; /* deep navy */
  --brand-bg-end:   #1c2541; /* darker slate */
  --brand-primary:  #3a86ff; /* vivid blue */
  --brand-accent:   #22d3ee; /* cyan accent */
  --brand-danger:   #dc3545; /* keep semantic red for dengue */

  /* Leaflet colors */
  --planning-stroke: #3388ff;
  --planning-fill-opacity: 0.05;
  --dengue-stroke: var(--brand-danger);
  --dengue-fill-opacity: 0.35;
}

:root[data-bs-theme="light"] {
  --bs-primary: var(--brand-primary);
  --bs-link-color: var(--brand-primary);
  --bs-border-color: rgba(0,0,0,.125);
  --bs-body-bg: #ffffff;
  --bs-tertiary-bg: #f7f7f9;
}

:root[data-bs-theme="dark"] {
  --bs-primary: var(--brand-accent);
  --bs-link-color: var(--brand-accent);
  --bs-border-color: rgba(255,255,255,.15);
  --bs-body-bg: #0b0f1a;
  --bs-tertiary-bg: #0f1629;
}

/* Header gradient */
.brand-gradient {
  background: linear-gradient(135deg, var(--brand-bg-start) 0%, var(--brand-bg-end) 100%);
}

/* Utilities */
.scroll-y { overflow-y: auto; }
.logo-om { height: 16px; width: 16px; }
.legend-swatch { display:inline-block; width:14px; height:14px; border-radius:3px; margin-right:.5rem; vertical-align:middle; }
.legend-planning { background: var(--planning-stroke); }
.legend-dengue { background: var(--dengue-stroke); }

/* Map overlays */
.leaflet-control-scale-line { background: rgba(255,255,255,.8); border: 1px solid rgba(0,0,0,.2); }

/* Chat UI */
.chat-header { background: var(--bs-body-bg); }
.chat-history { background: var(--bs-tertiary-bg); }
.chat-bubble { max-width: 85%; padding: .5rem .75rem; border-radius: .75rem; margin-bottom: .5rem; line-height: 1.35; }
.chat-user { background: color-mix(in srgb, var(--bs-primary) 18%, transparent); color: var(--bs-emphasis-color); border: 1px solid var(--bs-border-color); }
.chat-bot { background: var(--bs-body-bg); border: 1px solid var(--bs-border-color); }
.chat-row { display: flex; gap: .5rem; align-items: flex-start; margin: .5rem 0; }
.chat-row .avatar { flex: 0 0 auto; }
.chat-row .bubble-wrap { max-width: calc(100% - 2.5rem); }
.avatar { width: 28px; height: 28px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-size: .85rem; font-weight: 600; }
.avatar-bot { background: color-mix(in srgb, var(--brand-primary) 20%, transparent); color: var(--bs-emphasis-color); border: 1px solid var(--bs-border-color); }
.avatar-user { background: color-mix(in srgb, var(--brand-accent) 20%, transparent); color: var(--bs-emphasis-color); border: 1px solid var(--bs-border-color); }
.typing { display: inline-flex; gap: .25rem; align-items: center; }
.typing .dot { width: 6px; height: 6px; background: var(--bs-secondary-color); border-radius: 50%; animation: blink 1.2s infinite ease-in-out; }
.typing .dot:nth-child(2) { animation-delay: .2s; }
.typing .dot:nth-child(3) { animation-delay: .4s; }
@keyframes blink { 0%, 80%, 100% { opacity: .2 } 40% { opacity: 1 } }

/* Sidebar */
#sidebar { width: 360px; max-width: 40vw; border-left: 1px solid var(--bs-border-color); }

/* Layers dropdown */
.layers-dropdown-menu { min-width: 340px; border-radius: .5rem; }
.layers-dropdown-menu h6 { font-size: .95rem; }
.layers-dropdown-menu .form-check-input { cursor: pointer; }
.layers-dropdown-menu .btn { border-radius: .4rem; }
